PORT=3000
HOST=127.0.0.1
DATA_FILE_PATH=./data/db.json

# Provider order for market data (supports: nseindia,bseindia,tradingview,yahoo,screener,twelvedata,alphavantage)
# Recommended for Indian stocks: nseindia,bseindia,tradingview,yahoo
# `bseindia` and `screener` are auto-appended if omitted (for BSE/SME numeric scrip codes).
MARKET_DATA_PROVIDER_ORDER=nseindia,tradingview,yahoo
TRADINGVIEW_SCAN_URL=https://scanner.tradingview.com/india/scan

ALPHA_VANTAGE_API_KEY=3ONQSOGN3FGBPF7Y
ALPHA_VANTAGE_BASE_URL=https://www.alphavantage.co/query

# Optional: Twelve Data free API key (recommended for richer details)
TWELVE_DATA_API_KEY=5ebd3faa2ddf4b668eb00e207d1f8fe3
TWELVE_DATA_BASE_URL=https://api.twelvedata.com

# Optional: NSE session cookie refresh interval
NSE_COOKIE_TTL_MS=300000

# Optional: Real news headlines from NewsAPI
NEWS_API_KEY=
NEWS_API_BASE_URL=https://newsapi.org/v2/everything

# Feed sources:
# Google News RSS is enabled by default.
GOOGLE_NEWS_RSS_BASE_URL=https://news.google.com/rss/search
GOOGLE_NEWS_RSS_LANGUAGE=en
GOOGLE_NEWS_RSS_REGION=IN
GOOGLE_NEWS_LOOKBACK_DAYS=7

# Optional Twitter/X search RSS endpoint (example via Nitter RSS):
# TWITTER_SEARCH_RSS_URL=https://nitter.net/search/rss
TWITTER_SEARCH_RSS_URL=

# Optional tuning
MARKET_CACHE_TTL_MS=60000
NEWS_CACHE_TTL_MS=600000
EVENTS_CACHE_TTL_MS=1800000
# Upper bound stored per aggregated feed refresh (used for chunk paging, max enforced 1000)
FEED_MAX_ITEMS=1000

# Symbol master for watchlist autocomplete and company-name resolution
SYMBOL_MASTER_FILE_PATH=./data/symbol_master.json
# Daily scheduler (cron format: minute hour day month weekday) in IST by default.
SYMBOL_MASTER_DAILY_CRON=10 8 * * *
SYMBOL_MASTER_CRON_TIMEZONE=Asia/Kolkata
# Fallback interval used for next-run estimation and cron-invalid fallback.
SYMBOL_MASTER_REFRESH_MS=86400000
SYMBOL_MASTER_SEARCH_LIMIT=12
SYMBOL_MASTER_REQUEST_TIMEOUT_MS=30000
# Watchlist quote cache policy (24h default). If liveData=false and cached quote is newer than this, API serves cached value.
WATCHLIST_QUOTE_CACHE_MAX_AGE_MS=86400000
# Multiple NSE CSV URLs can be provided (comma-separated) for fallback.
SYMBOL_MASTER_NSE_CSV_URLS=https://nsearchives.nseindia.com/content/equities/EQUITY_L.csv,https://archives.nseindia.com/content/equities/EQUITY_L.csv
# IIFL scrip master is used to enrich BSE universe and fallback NSE symbols.
SYMBOL_MASTER_IIFL_CSV_URL=https://content.indiainfoline.com/IIFLTT/Scripmaster.csv

# Daily sales snapshot (all symbol-master stocks).
# Pulls last N quarterly sales/PAT metrics and stores locally in `data/daily_sales.json`.
SALES_SNAPSHOT_ENABLED=true
SALES_SNAPSHOT_FILE_PATH=./data/daily_sales.json
# Cron schedule (after market hours by default) and timezone.
SALES_SNAPSHOT_DAILY_CRON=35 18 * * *
SALES_SNAPSHOT_CRON_TIMEZONE=Asia/Kolkata
# 0 means "all symbols". Set a positive number to cap per run if rate-limited.
SALES_SNAPSHOT_MAX_SYMBOLS_PER_RUN=0
# Keep low to avoid source blocking.
SALES_SNAPSHOT_CONCURRENCY=2
SALES_SNAPSHOT_THROTTLE_MS=120
SALES_SNAPSHOT_QUARTER_LIMIT=6
# Optional startup backfill.
SALES_SNAPSHOT_RUN_ON_STARTUP=false
MARKET_DATA_DEBUG=false
